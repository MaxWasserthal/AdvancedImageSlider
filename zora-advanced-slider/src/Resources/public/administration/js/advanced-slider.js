(this.webpackJsonp=this.webpackJsonp||[]).push([["advanced-slider"],{"+9cZ":function(e,n){e.exports='{% block sw_cms_element_advancedslider %}\r\n    <div class="sw-cms-el-advancedslider" :class="outsideNavArrows" :style="verticalAlignStyle">\r\n        {% block sw_cms_element_advancedslider_img %}\r\n            <div class="sw-cms-el-advancedslider__image-box" :class="displayModeClass" :style="styles">\r\n                <img class="sw-cms-el-advancedslider__image" :src="imgSrc">\r\n            </div>\r\n        {% endblock %}\r\n\r\n        <template v-if="element.data !== null">\r\n            {% block sw_cms_element_advancedslider_nav %}\r\n                <div class="sw-cms-el-advancedslider__navigation">\r\n                    {% block sw_cms_element_advancedslider_nav_dots %}\r\n                        <div v-if="element.config.navigationDots.value !== null"\r\n                             class="sw-cms-el-advancedslider__navigation-dots"\r\n                             :class="`is--nav-${element.config.navigationDots.value}`">\r\n                            <div class="sw-cms-el-advancedslider__navigation-buttons">\r\n                                <template v-if="sliderItems.length > 0">\r\n                                    <div v-for="(sliderItem, index) in sliderItems"\r\n                                         :class="activeButtonClass(sliderItem.media.url)"\r\n                                         @click="setSliderItem(sliderItem.media, index)"\r\n                                         class="sw-cms-el-advancedslider__navigation-button">\r\n                                    </div>\r\n                                </template>\r\n                                <template v-else>\r\n                                    <div class="sw-cms-el-advancedslider__navigation-button is--active"></div>\r\n                                    <div class="sw-cms-el-advancedslider__navigation-button"></div>\r\n                                    <div class="sw-cms-el-advancedslider__navigation-button"></div>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                    {% endblock %}\r\n                    {% block sw_cms_element_advancedslider_nav_arrows %}\r\n                        <div v-if="element.config.navigationArrows.value !== null"\r\n                             class="sw-cms-el-advancedslider__navigation-arrows"\r\n                             :class="`is--nav-${element.config.navigationArrows.value}`">\r\n                            <sw-icon @click="setSliderArrowItem(-1)"\r\n                                     class="sw-cms-el-advancedslider__navigation-button"\r\n                                     name="default-arrow-head-left"\r\n                                     size="24">\r\n                            </sw-icon>\r\n                            <sw-icon @click="setSliderArrowItem()"\r\n                                     class="sw-cms-el-advancedslider__navigation-button"\r\n                                     name="default-arrow-head-right"\r\n                                     size="24">\r\n                            </sw-icon>\r\n                        </div>\r\n                    {% endblock %}\r\n                </div>\r\n            {% endblock %}\r\n        </template>\r\n\r\n        <template v-else>\r\n            {% block sw_cms_element_advancedslider_nav_default %}\r\n                <div class="sw-cms-el-advancedslider__navigation">\r\n                    <div class="sw-cms-el-advancedslider__navigation-arrows is--nav-outside">\r\n                        <sw-icon class="sw-cms-el-advancedslider__navigation-button"\r\n                                 name="default-arrow-head-left"\r\n                                 size="24">\r\n                        </sw-icon>\r\n                        <sw-icon class="sw-cms-el-advancedslider__navigation-button"\r\n                                 name="default-arrow-head-right"\r\n                                 size="24">\r\n                        </sw-icon>\r\n                    </div>\r\n                </div>\r\n            {% endblock %}\r\n        </template>\r\n    </div>\r\n{% endblock %}\r\n'},"2pH/":function(e,n,i){"use strict";i.r(n);var t=i("+9cZ"),s=i.n(t);i("73ZS");const{Component:a,Mixin:l,Filter:r}=Shopware;a.register("sw-cms-el-advancedslider",{template:s.a,mixins:[l.getByName("cms-element")],props:{activeMedia:{type:[Object,null],required:!1,default:null}},data:()=>({columnCount:7,columnWidth:90,sliderPos:0,imgPath:"/administration/static/img/cms/preview_mountain_large.jpg",imgSrc:""}),computed:{gridAutoRows(){return"grid-auto-rows: "+this.columnWidth},uploadTag(){return"cms-element-media-config-"+this.element.id},sliderItems(){return this.element.data&&this.element.data.sliderItems&&this.element.data.sliderItems.length>0?this.element.data.sliderItems:[]},displayModeClass(){return"standard"===this.element.config.displayMode.value?null:"is--"+this.element.config.displayMode.value},styles(){return"cover"===this.element.config.displayMode.value&&0!==this.element.config.minHeight.value?{"min-height":this.element.config.minHeight.value}:{}},outsideNavArrows(){return"outside"===this.element.config.navigationArrows.value?"has--outside-arrows":null},verticalAlignStyle(){return this.element.config.verticalAlign.value?`align-self: ${this.element.config.verticalAlign.value};`:null},contextAssetPath:()=>Shopware.Context.api.assetsPath,assetFilter:()=>r.getByName("asset")},watch:{"element.data.sliderItems":{handler(){this.sliderItems.length>0?(this.imgSrc=this.sliderItems[0].media.url,this.$emit("active-image-change",this.sliderItems[0].media)):this.imgSrc=this.assetFilter(this.imgPath)},deep:!0},activeMedia(){this.sliderPos=this.activeMedia.sliderIndex,this.imgSrc=this.activeMedia.url}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("advancedslider"),this.initElementData("advancedslider"),this.element.data&&this.element.data.sliderItems&&this.element.data.sliderItems.length>0?(this.imgSrc=this.sliderItems[0].media.url,this.$emit("active-image-change",this.sliderItems[this.sliderPos].media)):this.imgSrc=this.assetFilter(this.imgPath)},setSliderItem(e,n){this.imgSrc=e.url,this.$emit("active-image-change",e,n)},activeButtonClass(e){return{"is--active":this.imgSrc===e}},setSliderArrowItem(e=1){this.sliderItems.length<2||(this.sliderPos+=e,this.sliderPos<0&&(this.sliderPos=this.sliderItems.length-1),this.sliderPos>this.sliderItems.length-1&&(this.sliderPos=0),this.imgSrc=this.sliderItems[this.sliderPos].media.url,this.$emit("active-image-change",this.sliderItems[this.sliderPos].media,this.sliderPos))}}});var d=i("Y6AP"),o=i.n(d);i("3Tyt");const{Component:c,Mixin:m}=Shopware,{cloneDeep:v}=Shopware.Utils.object,g=Shopware.Data.Criteria;c.register("sw-cms-el-config-advancedslider",{template:o.a,mixins:[m.getByName("cms-element")],inject:["repositoryFactory"],data(){return{mediaModalIsOpen:!1,initialFolderId:null,entity:this.element,mediaItems:[]}},computed:{uploadTag(){return"cms-element-media-config-"+this.element.id},mediaRepository(){return this.repositoryFactory.create("media")},defaultFolderName(){return this.cmsPageState.pageEntityName},items(){return this.element.config&&this.element.config.sliderItems&&this.element.config.sliderItems.value?this.element.config.sliderItems.value:[]}},created(){this.createdComponent()},methods:{async createdComponent(){if(this.initElementConfig("advancedslider"),this.element.config.sliderItems.value.length>0){const e=this.element.config.sliderItems.value.map(e=>e.mediaId),n=new g;n.setIds(e);const i=await this.mediaRepository.search(n,Shopware.Context.api);this.mediaItems=e.map(e=>i.get(e))}},onImageUpload(e){this.element.config.sliderItems.value.push({mediaUrl:e.url,mediaId:e.id,url:null,sText:null,btnText:null,newTab:!1}),this.mediaItems.push(e),this.updateMediaDataValue(),this.emitUpdateEl()},onItemRemove(e,n){const i=e.id,{value:t}=this.element.config.sliderItems;this.element.config.sliderItems.value=t.filter((e,t)=>e.mediaId!==i||t!==n),this.mediaItems=this.mediaItems.filter((e,t)=>e.id!==i||t!==n),this.updateMediaDataValue(),this.emitUpdateEl()},onCloseMediaModal(){this.mediaModalIsOpen=!1},onMediaSelectionChange(e){e.forEach(e=>{this.element.config.sliderItems.value.push({mediaUrl:e.url,mediaId:e.id,url:null,sText:null,btnText:null,newTab:!1})}),this.mediaItems.push(...e),this.updateMediaDataValue(),this.emitUpdateEl()},updateMediaDataValue(){if(this.element.config.sliderItems.value){const e=v(this.element.config.sliderItems.value);e.forEach(e=>{this.mediaItems.forEach(n=>{e.mediaId===n.id&&(e.media=n)})}),this.$set(this.element.data,"sliderItems",e)}},onOpenMediaModal(){this.mediaModalIsOpen=!0},onChangeMinHeight(e){this.element.config.minHeight.value=null===e?"":e,this.$emit("element-update",this.element)},onChangeDisplayMode(e){"cover"===e?this.element.config.verticalAlign.value=null:this.element.config.minHeight.value="",this.$emit("element-update",this.element)},emitUpdateEl(){this.$emit("element-update",this.element)}}});var _=i("rwrj"),u=i.n(_);i("p4Ra");const{Component:p}=Shopware;p.register("sw-cms-el-preview-advancedslider",{template:u.a}),Shopware.Service("cmsService").registerCmsElement({name:"advancedslider",label:"Advanced Slider",component:"sw-cms-el-advancedslider",configComponent:"sw-cms-el-config-advancedslider",previewComponent:"sw-cms-el-preview-advancedslider",defaultConfig:{sliderItems:{source:"static",value:[],required:!0,entity:{name:"media"}},navigationArrows:{source:"static",value:"outside"},navigationDots:{source:"static",value:null},displayMode:{source:"static",value:"standard"},minHeight:{source:"static",value:"300px"},verticalAlign:{source:"static",value:null}},enrich:function(e,n){Object.keys(n).length<1||Object.keys(e.config).forEach(i=>{const t=e.config[i].entity;if(!t)return;const s=t.name;n["entity-"+s]&&(e.data[i]=[],e.config[i].value.forEach(t=>{e.data[i].push({newTab:t.newTab,url:t.url,media:n["entity-"+s].get(t.mediaId),sText:t.sText,btnText:t.btnText})}))})}});var h=i("y+/W"),w=i.n(h);const{Component:f}=Shopware;f.register("sw-cms-block-advancedslider",{template:w.a});var b=i("4S6E"),I=i.n(b);i("e182");const{Component:k}=Shopware;k.register("sw-cms-preview-advancedslider",{template:I.a}),Shopware.Service("cmsService").registerCmsBlock({name:"advancedslider",label:"Advanced Slider",category:"text-image",component:"sw-cms-block-advancedslider",previewComponent:"sw-cms-preview-advancedslider",defaultConfig:{marginBottom:"0px",marginTop:"0px",marginLeft:"0px",marginRight:"0px",sizingMode:"boxed"},slots:{advancedslider:{type:"advancedslider"}}})},"3Tyt":function(e,n,i){var t=i("y56J");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,i("SZ7m").default)("2e1fe794",t,!0,{})},"4S6E":function(e,n){e.exports='{% block sw_cms_block_advancedslider_preview %}\r\n    <div class="sw-cms-preview-advancedslider">\r\n        <sw-icon name="default-arrow-head-left" size="20"></sw-icon>\r\n        <img :src="\'/administration/static/img/cms/preview_mountain_small.jpg\' | asset">\r\n        <sw-icon name="default-arrow-head-right" size="20"></sw-icon>\r\n    </div>\r\n{% endblock %}'},"73ZS":function(e,n,i){var t=i("SHnB");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,i("SZ7m").default)("fb63aff2",t,!0,{})},SHnB:function(e,n,i){},Y6AP:function(e,n){e.exports='{% block sw_cms_element_advancedslider_config %}\r\n    <div class="sw-cms-el-config-advancedslider">\r\n        {% block sw_cms_element_advancedslider_config_tabs %}\r\n            <sw-tabs class="sw-cms-el-config-advancedslider__tabs" defaultItem="content">\r\n                <template slot-scope="{ active }" >\r\n                    {% block sw_cms_element_advancedslider_config_tab_content %}\r\n                        <sw-tabs-item title="Content" name="content" :activeTab="active">\r\n                            Inhalt\r\n                        </sw-tabs-item>\r\n                    {% endblock %}\r\n                    {% block sw_cms_element_advancedslider_config_tab_options %}\r\n                        <sw-tabs-item title="Settings" name="settings" :activeTab="active">\r\n                            Einstellungen\r\n                        </sw-tabs-item>\r\n                    {% endblock %}\r\n                </template>\r\n\r\n                <template slot="content" slot-scope="{ active }">\r\n                    {% block sw_cms_element_advancedslider_config_content %}\r\n                        <sw-container v-if="active === \'content\'" class="sw-cms-el-config-advancedslider__tab-content">\r\n                            {% block sw_cms_element_advancedslider_config_media_selection %}\r\n                                <sw-media-list-selection-v2\r\n                                        :entityMediaItems="mediaItems"\r\n                                        :entity="entity"\r\n                                        :uploadTag="uploadTag"\r\n                                        :defaultFolderName="defaultFolderName"\r\n                                        @upload-finish="onImageUpload"\r\n                                        @item-remove="onItemRemove"\r\n                                        @open-sidebar="onOpenMediaModal">\r\n                                </sw-media-list-selection-v2>\r\n                            {% endblock %}\r\n\r\n                            {% block sw_cms_element_advancedslider_config_media_modal %}\r\n                                <sw-media-modal-v2\r\n                                        variant="regular"\r\n                                        v-if="mediaModalIsOpen"\r\n                                        caption="Upload"\r\n                                        :entityContext="cmsPageState.entityName"\r\n                                        :initialFolderId="cmsPageState.defaultMediaFolderId"\r\n                                        @media-upload-remove-image="onItemRemove"\r\n                                        @media-modal-selection-change="onMediaSelectionChange"\r\n                                        @modal-close="onCloseMediaModal">\r\n                                </sw-media-modal-v2>\r\n                            {% endblock %}\r\n                        </sw-container>\r\n                    {% endblock %}\r\n\r\n                    {% block sw_cms_element_advancedslider_config_settings %}\r\n                        <sw-container v-if="active === \'settings\'" class="sw-cms-el-config-advancedslider__tab-settings">\r\n                            <div class="sw-cms-el-config-advancedslider__settings-options">\r\n\r\n                                {% block sw_cms_element_image_gallery_config_settings_display_mode %}\r\n                                    <div class="sw-cms-el-config-advancedslider__setting-option">\r\n\r\n                                        {% block sw_cms_element_image_gallery_config_settings_display_mode_select %}\r\n                                            <sw-select-field label="Display Modus"\r\n                                                             v-model="element.config.displayMode.value"\r\n                                                             @change="onChangeDisplayMode"\r\n                                                             class="sw-cms-el-config-advancedslider__setting-display-mode">\r\n                                                <option value="standard">Standard</option>\r\n                                                <option value="cover">Cover</option>\r\n                                                <option value="contain">Contain</option>\r\n                                            </sw-select-field>\r\n                                        {% endblock %}\r\n\r\n                                        {% block sw_cms_element_image_gallery_config_settings_min_height %}\r\n                                            <sw-text-field label="Minimale Höhe"\r\n                                                           placeholder="500px"\r\n                                                           :disabled="element.config.displayMode.value !== \'cover\'"\r\n                                                           v-model="element.config.minHeight.value"\r\n                                                           @input="onChangeMinHeight">\r\n                                            </sw-text-field>\r\n                                        {% endblock %}\r\n\r\n                                        {% block sw_cms_element_image_gallery_config_settings_vertical_align %}\r\n                                            <sw-select-field label="Vertical Align"\r\n                                                             v-model="element.config.verticalAlign.value"\r\n                                                             placeholder="Vertical Align"\r\n                                                             :disabled="element.config.displayMode.value === \'cover\'">\r\n                                                <option value="flex-start">Oben</option>\r\n                                                <option value="center">Mitte</option>\r\n                                                <option value="flex-end">Unten</option>\r\n                                            </sw-select-field>\r\n                                        {% endblock %}\r\n                                    </div>\r\n                                {% endblock %}\r\n\r\n\r\n                                {% block sw_cms_element_advancedslider_config_settings_navigation %}\r\n                                    <div class="sw-cms-el-config-advancedslider__setting-navigations sw-cms-el-config-advancedslider__setting-option">\r\n                                        <div class="sw-cms-el-config-advancedslider__settings-navigation">\r\n\r\n                                            {% block sw_cms_element_advancedslider_config_settings_navigation_arrow_position %}\r\n                                                <sw-field type="select"\r\n                                                          v-model="element.config.navigationArrows.value"\r\n                                                          @change="emitUpdateEl"\r\n                                                          label="Navigationspfeile">\r\n\r\n                                                    <option :value="null">\r\n                                                        Keine\r\n                                                    </option>\r\n                                                    <option value="inside">\r\n                                                        Innen\r\n                                                    </option>\r\n                                                    <option value="outside">\r\n                                                        Außen\r\n                                                    </option>\r\n                                                </sw-field>\r\n                                            {% endblock %}\r\n                                        </div>\r\n\r\n                                        <div class="sw-cms-el-config-image-slider__settings-navigation">\r\n\r\n                                            {% block sw_cms_element_advancedslider_config_settings_navigation_dots_position %}\r\n                                                <sw-field type="select"\r\n                                                          v-model="element.config.navigationDots.value"\r\n                                                          @change="emitUpdateEl"\r\n                                                          label="Navigationspunkte">\r\n\r\n                                                    <option :value="null">\r\n                                                        Keine\r\n                                                    </option>\r\n                                                    <option value="inside">\r\n                                                        Innen\r\n                                                    </option>\r\n                                                    <option value="outside">\r\n                                                        Außen\r\n                                                    </option>\r\n                                                </sw-field>\r\n                                            {% endblock %}\r\n                                        </div>\r\n                                    </div>\r\n                                {% endblock %}\r\n\r\n                                {% block sw_cms_element_advancedslider_config_settings_links %}\r\n                                    <div class="sw-cms-el-config-advancedslider__settings-links sw-cms-el-config-advancedslider__setting-option">\r\n                                        <div class="sw-cms-el-config-advancedslider__settings-link"\r\n                                             v-for="sliderItem in items">\r\n\r\n                                            {% block sw_cms_element_advancedslider_config_settings_link_url %}\r\n                                                <sw-field v-model="sliderItem.url"\r\n                                                          class="sw-cms-el-config-advancedslider__settings-link-input"\r\n                                                          :key="sliderItem.mediaId"\r\n                                                          :name="sliderItem.mediaUrl"\r\n                                                          type="text"\r\n                                                          label="Button Link"\r\n                                                          placeholder="Button URL eingeben">\r\n                                                    <template #prefix>\r\n                                                        <img class="sw-cms-el-config-advancedslider__settings-link-prefix"\r\n                                                             :src="sliderItem.mediaUrl"\r\n                                                             v-if="sliderItem.mediaUrl">\r\n                                                    </template>\r\n                                                </sw-field>\r\n                                            {% endblock %}\r\n\r\n                                            {% block sw_cms_element_advancedslider_config_settings_button_text %}\r\n                                                <sw-field v-model="sliderItem.btnText"\r\n                                                               class="sw-cms-el-config-advancedslider__setting-text-input"\r\n                                                               label="Button Text"\r\n                                                               type="text"\r\n                                                               placeholder="Button Text"\r\n                                                               :key="sliderItem.mediaId"\r\n                                                               :name="sliderItem.btnText">\r\n                                                </sw-field>\r\n                                            {% endblock %}\r\n\r\n                                            {% block sw_cms_element_advancedslider_config_settings_link_target %}\r\n                                                <sw-field class="sw-cms-el-config-advancedslider__settings-link-tab"\r\n                                                          v-model="sliderItem.newTab"\r\n                                                          type="switch"\r\n                                                          :name="sliderItem.mediaId"\r\n                                                          label="Neuer Tab">\r\n                                                </sw-field>\r\n                                            {% endblock %}\r\n\r\n                                            {% block sw_cms_element_advancedslider_config_settings_text %}\r\n                                                <sw-field v-model="sliderItem.sText"\r\n                                                               class="sw-cms-el-config-advancedslider__setting-text-input"\r\n                                                               label="Text"\r\n                                                               type="text"\r\n                                                               placeholder="Text"\r\n                                                               :key="sliderItem.mediaId"\r\n                                                               :name="sliderItem.sText">\r\n                                                </sw-field>\r\n                                            {% endblock %}\r\n                                        </div>\r\n                                    </div>\r\n                                {% endblock %}\r\n                            </div>\r\n                        </sw-container>\r\n                    {% endblock %}\r\n                </template>\r\n            </sw-tabs>\r\n        {% endblock %}\r\n    </div>\r\n{% endblock %}'},e182:function(e,n,i){var t=i("oD2P");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,i("SZ7m").default)("f893fa24",t,!0,{})},oD2P:function(e,n,i){},p4Ra:function(e,n,i){var t=i("qrOA");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);(0,i("SZ7m").default)("959b6b9c",t,!0,{})},qrOA:function(e,n,i){},rwrj:function(e,n){e.exports='{% block sw_cms_element_advancedslider_preview %}\r\n    <div class="sw-cms-el-preview-advancedslider">\r\n        <sw-icon name="default-arrow-head-left" size="10"></sw-icon>\r\n        <div>\r\n            <img :src="\'/administration/static/img/cms/preview_mountain_small.jpg\' | asset">\r\n        </div>\r\n        <sw-icon name="default-arrow-head-right" size="10"></sw-icon>\r\n    </div>\r\n{% endblock %}\r\n'},"y+/W":function(e,n){e.exports='{% block sw_cms_block_advancedslider %}\r\n    <div class="sw-cms-block-advancedslider">\r\n        <slot name="advancedslider"></slot>\r\n    </div>\r\n{% endblock %}\r\n'},y56J:function(e,n,i){}},[["2pH/","runtime","vendors-node"]]]);